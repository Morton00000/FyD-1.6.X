import groovy.io.FileType

// If anyone knows a better way to do this please let me know or fix it for me
FileTree all = fileTree(dir: 'Vanilla_Minecraft') + fileTree(dir: 'MCPatcher-Optifine') + fileTree(dir: 'Advanced_Genetics') + fileTree(dir: 'Agriculture') + fileTree(dir: 'Applied_Energistics') + fileTree(dir: 'Aquaculture') + fileTree(dir: 'Arcane_Scrolls') + fileTree(dir: 'Archimedes_Ships') + fileTree(dir: 'Aroma_1997_Core') + fileTree(dir: 'ArsMagica_2') + fileTree(dir: 'Artifice') + fileTree(dir: 'Backpack') + fileTree(dir: 'Barrels') + fileTree(dir: 'BC4') + fileTree(dir: 'BC4-Additional_Objects') + fileTree(dir: 'BC4-Additional_Pipes') + fileTree(dir: 'BC4-Logistics_Pipes') + fileTree(dir: 'BC4-Teleport_Pipes') + fileTree(dir: 'Better_Chests') + fileTree(dir: 'Better_Grass_And_Leaves_Mod') + fileTree(dir: 'Biblio_Craft') + fileTree(dir: 'Biblio_WoodsBOP') + fileTree(dir: 'Biblio_WoodsForestry') + fileTree(dir: 'Biblio_WoodsNatura') + fileTree(dir: 'Biomes-O-Plenty') + fileTree(dir: 'Blood_Magic') + fileTree(dir: 'CB-Chicken_Chunks') + fileTree(dir: 'CB-Ender_Storage') + fileTree(dir: 'CB-Translocator') + fileTree(dir: 'CB-WRCBE') + fileTree(dir: 'CoFH-Core') + fileTree(dir: 'CoFH-Thermal_Expansion') + fileTree(dir: 'Computer_Craft') + fileTree(dir: 'Craftable_Horse_Armor') + fileTree(dir: 'DartCraft') + fileTree(dir: 'Den_Pipes') + fileTree(dir: 'Den_PipesEmerald') + fileTree(dir: 'Dynamic_Tanks_2') + fileTree(dir: 'Electrodynamics') + fileTree(dir: 'Emasher_Resource') + fileTree(dir: 'Enchanting_Plus') + fileTree(dir: 'EnderIO') + fileTree(dir: 'Engineers_Toolbox') + fileTree(dir: 'Enhanced_Portals') + fileTree(dir: 'ExtrabiomesXL') + fileTree(dir: 'ExtraCells') + fileTree(dir: 'ExtraTiC') + fileTree(dir: 'ExtraUtils') + fileTree(dir: 'Factorization') + fileTree(dir: 'Farlanders') + fileTree(dir: 'Flatsigns') + fileTree(dir: 'Forestry') + fileTree(dir: 'Forestry-Binnie_Mods') + fileTree(dir: 'Forestry-Magic_Bees') + fileTree(dir: 'Forestry-Plugins') + fileTree(dir: 'Forge_Multipart') + fileTree(dir: 'Furniture_Mod') + fileTree(dir: 'Ganys_End') + fileTree(dir: 'Ganys_Nether') + fileTree(dir: 'Ganys_Surface') + fileTree(dir: 'GasCraft') + fileTree(dir: 'Hopper_Ducts_Mod') + fileTree(dir: 'IC2') + fileTree(dir: 'IC2-Advanced_Machines(immibis)') + fileTree(dir: 'IC2-Advanced_Power_Management') + fileTree(dir: 'IC2-Advanced_Solar_Panels') + fileTree(dir: 'IC2-Charge_Pads') + fileTree(dir: 'IC2-Compact_Solars') + fileTree(dir: 'IC2-Gravi_Suite') + fileTree(dir: 'IC2-GregTech') + fileTree(dir: 'IC2-MFFS') + fileTree(dir: 'IC2-Nuclear_Control') + fileTree(dir: 'iChun-GravityGun') + fileTree(dir: 'iChun-Hats') + fileTree(dir: 'iChun-Morph') + fileTree(dir: 'iChun-PortalGun') + fileTree(dir: 'Immibis-Core') + fileTree(dir: 'Immibis-Microblocks') + fileTree(dir: 'Immibis-Peripherals') + fileTree(dir: 'Iron_Chest') + fileTree(dir: 'JABBA') + fileTree(dir: 'Magical_Crops') + fileTree(dir: 'Metallurgy') + fileTree(dir: 'Misc_Peripherals') + fileTree(dir: 'MPS') + fileTree(dir: 'Mystcraft') + fileTree(dir: 'Natura') + fileTree(dir: 'NEI') + fileTree(dir: 'NEIAddons') + fileTree(dir: 'NEIPlugins') + fileTree(dir: 'Open_Blocks') + fileTree(dir: 'Open_Peripheral') + fileTree(dir: 'Pams-Harvest_Craft') + fileTree(dir: 'PC-Core') + fileTree(dir: 'PC-MineFactory_Reloaded') + fileTree(dir: 'PC-Nether_Ores') + fileTree(dir: 'PC-Power_Converters') + fileTree(dir: 'Project_Bench') + fileTree(dir: 'Project_Red') + fileTree(dir: 'Project_Zulu') + fileTree(dir: 'QuarryPlus') + fileTree(dir: 'Railcraft') + fileTree(dir: 'Random_Things') + fileTree(dir: 'RedLogic') + fileTree(dir: 'Redstone_In_Motion') + fileTree(dir: 'Reika-DyeTrees') + fileTree(dir: 'Reika-EnderForest') + fileTree(dir: 'Reika-ExpandedRedstone') + fileTree(dir: 'Reika-GeoStrata') + fileTree(dir: 'Reika-ReactorCraft') + fileTree(dir: 'Reika-RotaryCraft') + fileTree(dir: 'Reika-UsefulTNT') + fileTree(dir: 'Reliquary') + fileTree(dir: 'RemoteIO') + fileTree(dir: 'Small_Boats') + fileTree(dir: 'SoulShards') + fileTree(dir: 'StevesCarts_2') + fileTree(dir: 'Switches') + fileTree(dir: 'TConstruct') + fileTree(dir: 'Thaumcraft_4') + fileTree(dir: 'Thaumic_Tinkerer') + fileTree(dir: 'TMechworks') + fileTree(dir: 'Transitional_Assistance') + fileTree(dir: 'TrussMod') + fileTree(dir: 'Twilight_Forest') + fileTree(dir: 'UE-Atomic_Science') + fileTree(dir: 'UE-Basic_Components') + fileTree(dir: 'UE-Complex_Machines') + fileTree(dir: 'UE-DarkAssembly_Line') + fileTree(dir: 'UE-Galacticraft') + fileTree(dir: 'UE-ICBM') + fileTree(dir: 'UE-Mekanism') + fileTree(dir: 'UE-MFFS') + fileTree(dir: 'UE-Minechem_4') + fileTree(dir: 'UE-Resonant_Induction') + fileTree(dir: 'Utility_Mobs') + fileTree(dir: 'Witchery') + fileTree(dir: 'XACT') + fileTree(dir: 'Better_Furnaces') + fileTree(dir: 'BattleTowers') + fileTree(dir: 'Better_Dungeons') + fileTree(dir: 'Better_Signs_Mod') + fileTree(dir: 'Carpenters_Blocks') + fileTree(dir: 'Chococraft') + fileTree(dir: 'Legendary_Beasts_Alpha') + fileTree(dir: 'Fyres_ModJam') + fileTree(dir: 'HardcoreEnderExpansion') + fileTree(dir: 'Iguana_Tweaks_TConstruct') + fileTree(dir: 'LavaMonsters') + fileTree(dir: 'LycanitesMobsComplete') + fileTree(dir: 'Open_Mods_Lib') + fileTree(dir: 'Plant_Mega_Pack') + fileTree(dir: 'SpecialMobs') + fileTree(dir: 'UndergroundBiomes') + fileTree(dir: 'Reika-MeteorCraft') + fileTree(dir: 'Reika-SpiderPet')

FileTree exile = fileTree(dir: 'Vanilla_Minecraft') + fileTree(dir: 'MCPatcher-Optifine') + fileTree(dir: 'Applied_Energistics') + fileTree(dir: 'Aroma_1997_Core') + fileTree(dir: 'ArsMagica_2') + fileTree(dir: 'BC4') + fileTree(dir: 'Biblio_Craft') + fileTree(dir: 'Biblio_WoodsBOP') + fileTree(dir: 'Biblio_WoodsForestry') + fileTree(dir: 'Biblio_WoodsNatura') + fileTree(dir: 'Biomes-O-Plenty') + fileTree(dir: 'CB-Chicken_Chunks') + fileTree(dir: 'CB-Ender_Storage') + fileTree(dir: 'CoFH-Core') + fileTree(dir: 'CoFH-Thermal_Expansion') + fileTree(dir: 'Computer_Craft') + fileTree(dir: 'EnderIO') + fileTree(dir: 'Enhanced_Portals') + fileTree(dir: 'ExtraCells') + fileTree(dir: 'ExtraTiC') + fileTree(dir: 'ExtraUtils') + fileTree(dir: 'Forestry') + fileTree(dir: 'Forestry-Binnie_Mods') + fileTree(dir: 'Forestry-Magic_Bees') + fileTree(dir: 'Forge_Multipart') + fileTree(dir: 'Iron_Chest') + fileTree(dir: 'Magical_Crops') + fileTree(dir: 'Metallurgy') + fileTree(dir: 'Natura') + fileTree(dir: 'NEI') + fileTree(dir: 'NEIAddons') + fileTree(dir: 'NEIPlugins') + fileTree(dir: 'Open_Blocks') + fileTree(dir: 'Pams-Harvest_Craft') + fileTree(dir: 'PC-Core') + fileTree(dir: 'PC-MineFactory_Reloaded') + fileTree(dir: 'PC-Nether_Ores') + fileTree(dir: 'Railcraft') + fileTree(dir: 'StevesCarts_2') + fileTree(dir: 'TConstruct') + fileTree(dir: 'Thaumcraft_4') + fileTree(dir: 'Thaumic_Tinkerer') + fileTree(dir: 'TMechworks') + fileTree(dir: 'Better_Furnaces') + fileTree(dir: 'BattleTowers') + fileTree(dir: 'Better_Dungeons') + fileTree(dir: 'Better_Signs_Mod') + fileTree(dir: 'Carpenters_Blocks') + fileTree(dir: 'Chococraft') + fileTree(dir: 'Legendary_Beasts_Alpha') + fileTree(dir: 'Fyres_ModJam') + fileTree(dir: 'HardcoreEnderExpansion') + fileTree(dir: 'Iguana_Tweaks_TConstruct') + fileTree(dir: 'LavaMonsters') + fileTree(dir: 'LycanitesMobsComplete') + fileTree(dir: 'Open_Mods_Lib') + fileTree(dir: 'Plant_Mega_Pack') + fileTree(dir: 'SpecialMobs') + fileTree(dir: 'UndergroundBiomes') + fileTree(dir: 'Reika-GeoStrata') + fileTree(dir: 'Reika-ReactorCraft') + fileTree(dir: 'Reika-RotaryCraft')

task zipAll(type: Zip) {
	baseName = 'FYD-1.6.4'
	appendix = '1.2-build'
	classifier = Integer.parseInt(new File('Build_Main.txt').text) + 1
	from all
	include '**/*.png'
	include '**/*.PNG'
	include '**/*.mcmeta'
	include '**/*.properties'
	destinationDir = file('../FyD-Releases/1.6.X_Releases')
	doLast{
		new File('Build_Main.txt').write(classifier + "", 'UTF-8')
	}
}

task zipTest(type: Zip) {
	baseName = 'FYD-1.6.4'
	appendix = 'Test'
	from all
	include '**/*.png'
	include '**/*.PNG'
	include '**/*.mcmeta'
	include '**/*.properties'
}

task zipExile(type: Zip) {
	baseName = 'FYD-1.6.4'
	appendix = 'Exile'
	from exile
	include '**/*.png'
	include '**/*.PNG'
	include '**/*.mcmeta'
	include '**/*.properties'
}

task zipVanilla(type: Zip) {
	baseName = 'FyD_Vanilla-1.7.X-1.6.X'
	appendix = '1.1-build'
	classifier = Integer.parseInt(new File('Build_Vanilla.txt').text) + 1
	from 'Vanilla_Minecraft'
	include '**/*.png'
	include '**/*.mcmeta'
	destinationDir = file('../FyD-Releases/Vanilla_Releases')
	doLast{
		new File('Build_Vanilla.txt').write(classifier + "", 'UTF-8')
	}
}

task zipPatcher(type: Zip) {
	baseName = 'Vanilla_1.6.X'
	from 'Vanilla_Minecraft'
	include '**/*.png'
	include '**/*.mcmeta'
	destinationDir = file('../FyD-Patcher')
}

task patcherMods

rootProject.projectDir.eachFile(FileType.DIRECTORIES) { dir ->
    if (dir.name.startsWith("."))
        return
    task "zip_${dir.name}"(type: Zip) {
            from dir
			include '**/*.png'
			include '**/*.PNG'
			include '**/*.mcmeta'
			include '**/*.properties'
			baseName = dir.name
			destinationDir = file('../FyD-Patcher/1.6.X_Mods')
	}
	patcherMods.dependsOn "zip_${dir.name}"
}